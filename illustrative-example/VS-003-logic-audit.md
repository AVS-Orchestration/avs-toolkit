# ==============================================================================
# Value Story Logic: VS-003 Audit & Refine
#
# This file contains the Goal and Instructions for the "Audit" Value Story (VS-003).
#
# INPUT: Tailored Resume (VS-002 Output) + Raw Resume (Ground Truth)
# OUTPUT: Hallucination Audit Report
# ==============================================================================

# THE GOAL: The "Minimum Unique Information" needed to produce the product.
# This defines the "North Star" for the Agent's internal reasoning loop.

goal:
  outcome_statement: "Conduct a forensic audit of the Tailored Resume to ensure zero fabrication of facts. Identify and report any claims that deviate from the factual ground truth of the Raw Resume."
  success_metrics:
    - "Audit Report identifies 100% of claims in the Tailored Resume that have no basis in the Raw Resume."
    - "Report clearly distinguishes between 'Stylistic Re-phrasing' (Allowed) and 'Factual Fabrication' (Forbidden)."

# INSTRUCTIONS: Must be "Algorithmically Legible."
# Precise enough for AI execution, clear enough for Human audit.

instructions:
  reasoning_pattern: "Reflection"
  execution_steps:
    - step: 1
      action: "Ingest the 'Tailored Resume' and extract every distinct claim (Employer, Title, Dates, Degree, Specific Metric/KPI, Skill)."
      validation_rule: "Agent has a structured list of claims to verify."
    - step: 2
      action: "Cross-reference each extracted claim against the 'Raw Resume' (Ground Truth)."
      validation_rule: "Every claim must have a direct source or logical inference path from the Raw Resume."
    - step: 3
      action: "Flag any claim where the *substance* of the fact has changed (e.g., 'Led a team of 5' -> 'Led a team of 50' is a hallucination; 'Led a team' -> 'Orchestrated a team' is a re-phrasing)."
      validation_rule: "Strict zero-tolerance for number/date/title discrepancies."
    - step: 4
      action: "Compile a 'Hallucination Audit Report'. List every flagged item with: (1) The Claim, (2) The Reality (Raw Resume), and (3) Severity (Critical/Minor)."
      validation_rule: "Report is neutral, objective, and evidence-based."

  constraints:
    - "Treat the Raw Resume as the absolute source of truth."
    - "Do not accept 'implied' experience as fact without evidence."
    - "Save the report to 'company_job-title_Hallucination-Audit-Report.md'."

product:
  type: "Report"
  format: "Markdown"
  output_path: "illustrative-example"

# CONTEXT MANIFEST: The "Bill of Materials" for this Value Story.
# Defines what external files/data must be assembled by the script.

context_manifest:
  - key: "tailored_resume"
    description: "The draft tailored resume generated by VS-002."
    required: true
    default_path: "illustrative-example/InnovateCorp_Senior-Product-Manager-AI-Solutions_Tailored-Resume.md"

  - key: "raw_resume"
    description: "The original, unedited candidate resume (Ground Truth)."
    required: true
    default_path: "illustrative-example/raw-resume.md"
